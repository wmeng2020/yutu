(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-shop-detail"],{"0f1d":function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 项目的基本配置 */\r\n/* 基础 */\r\n/* 行为相关颜色 */\r\n/* 行为悬停颜色 */\r\n/* 行为背景颜色 */\r\n/* 渐变色 */\r\n/* 按钮长度 */\r\n/* 距离  */\r\n/* 字体 */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.c-label[data-v-46487364]{background:#1e1f2c}.c-label .label-container[data-v-46487364]{box-sizing:border-box}.c-label .label-container .label[data-v-46487364]{min-width:%?150?%;font-size:%?24?%;margin-right:%?30?%}.c-label .label-container .content[data-v-46487364]{height:100%}.c-label .label-container .exra[data-v-46487364]{font-size:%?24?%}.c-label .label-container .exra .arrow[data-v-46487364]{margin-left:%?10?%}',""]),t.exports=e},"188f":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r}));var r={uniIcons:n("aa3d").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"c-label",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.click.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"label-container c-row  c-row-middle-center",class:{pr30:t.isPadding,pl30:t.isPadding},style:{height:t.isAuto?"auto":"string"==t.heightType?t.height:t.height+"rpx",borderBottom:t.border?"1px solid #eee":"none",padding:"row"==t.direction?"":t.isPadding?"30rpx":"30rpx 0"}},[n("v-uni-view",{staticClass:"c-row flex-cover",class:"row"==t.direction?"c-row-middle":"c-column "},[t.label?n("v-uni-view",{staticClass:"label ",class:"row"==t.direction?"":"mt10 ",style:{color:t.labelColor}},[t._v(t._s(t.label))]):t._e(),n("v-uni-view",{staticClass:"content flex-cover c-row c-row-middle",class:"row"==t.direction?"":"mt20 "},[t._t("default")],2)],1),t.exra?n("v-uni-view",{staticClass:"exra c-row c-row-middle"},[t._t("exra"),t.arrow?n("uni-icons",{staticClass:"arrow",attrs:{type:"arrowright",color:"#999"}}):t._e()],2):t._e()],1)],1)},a=[]},"27e6":function(t,e,n){"use strict";n.r(e);var r=n("188f"),i=n("8679");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("5eb3");var c,s=n("f0c5"),o=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"46487364",null,!1,r["a"],c);e["default"]=o.exports},"295f":function(t,e,n){var r=n("733b");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=n("4f06").default;i("772c6070",r,!0,{sourceMap:!1,shadowMode:!1})},3070:function(t,e,n){"use strict";n.r(e);var r=n("a7b6"),i=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e["default"]=i.a},"3cf1":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"c-empty",props:{src:{type:String,default:"/static/default/empty.png"},size:{type:[String,Number],default:200},text:{type:String,default:"暂无数据"}},data:function(){return{}},methods:{},onLoad:function(){},onShow:function(){}};e.default=r},4048:function(t,e,n){var r=n("0f1d");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=n("4f06").default;i("49f74e19",r,!0,{sourceMap:!1,shadowMode:!1})},"5eb3":function(t,e,n){"use strict";var r=n("4048"),i=n.n(r);i.a},"6d9d":function(t,e,n){"use strict";var r=n("295f"),i=n.n(r);i.a},"6fab":function(t,e,n){var r=n("790d");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=n("4f06").default;i("555ba1de",r,!0,{sourceMap:!1,shadowMode:!1})},"733b":function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 项目的基本配置 */\r\n/* 基础 */\r\n/* 行为相关颜色 */\r\n/* 行为悬停颜色 */\r\n/* 行为背景颜色 */\r\n/* 渐变色 */\r\n/* 按钮长度 */\r\n/* 距离  */\r\n/* 字体 */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.detail[data-v-c276c23c]{font-size:%?28?%}.detail .sub[data-v-c276c23c]{color:#999;font-size:%?22?%}.detail .vip-num[data-v-c276c23c]{color:#dccd9b}.detail .btn[data-v-c276c23c]{width:%?670?%;position:fixed;left:50%;bottom:%?40?%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.detail .dis-item[data-v-c276c23c]{padding:%?20?% 0}.detail .dis-item.active[data-v-c276c23c]{background-color:#232532}',""]),t.exports=e},"790d":function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 项目的基本配置 */\r\n/* 基础 */\r\n/* 行为相关颜色 */\r\n/* 行为悬停颜色 */\r\n/* 行为背景颜色 */\r\n/* 渐变色 */\r\n/* 按钮长度 */\r\n/* 距离  */\r\n/* 字体 */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.c-empty .txt[data-v-2658c99b]{color:#999;font-size:%?30?%;margin-top:%?20?%}',""]),t.exports=e},8679:function(t,e,n){"use strict";n.r(e);var r=n("9c86"),i=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e["default"]=i.a},"87ec":function(t,e,n){"use strict";var r=n("6fab"),i=n.n(r);i.a},"98fc":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r}));var r={cThumb:n("6e29").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"c-empty c-row c-column c-row-middle-center"},[n("c-thumb",{attrs:{src:t.src,size:t.size}}),n("v-uni-text",{staticClass:"txt"},[t._v(t._s(t.text))])],1)},a=[]},"9c86":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"c-label",data:function(){return{}},props:{height:{type:[String,Number],default:120},label:{type:String,default:""},labelColor:{type:String,default:"#fff"},border:{type:Boolean,default:!1},exra:{type:Boolean,default:!0},isAuto:{type:Boolean,default:!1},arrow:{type:Boolean,default:!1},direction:{type:String,default:"row"},isPadding:{type:Boolean,default:!0}},methods:{click:function(){this.$emit("click")}},computed:{heightType:function(){return typeof this.height}}};e.default=r},a7b6:function(t,e,n){"use strict";var r=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var i=r(n("1da1")),a=r(n("5530")),c=n("2f62"),s={name:"detail",computed:(0,a.default)({},(0,c.mapState)(["Demotype"])),data:function(){return{info:{},isChose:0,choseList:["不选择","选择"],disList:[],current:-1,disAllList:[]}},onLoad:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.shopProductDetail();case 2:return e.next=4,t.rechargeDiscount();case 4:case"end":return e.stop()}}),e)})))()},methods:{shopProductDetail:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$fetch.post("shopProductDetail",{ticket_id:t.query.id});case 2:n=e.sent,r=n.data,n.msg,n.err,n.code,t.info=r,t.content=t.$until.formatRichText(t.$until.jointRichImage(r.content));case 9:case"end":return e.stop()}}),e)})))()},buyProduct:function(t){var e=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.confirm){n.next=12;break}return n.next=3,e.$fetch.post("buyProduct",{ticket_id:e.info.id,is_use_discount:e.isChose,user_discount_id:1==e.isChose?e.disAllList[e.current].id:""});case 3:r=n.sent,r.data,i=r.msg,r.err,r.code,e.$until.toast(i),e.close("exchange"),n.next=13;break;case 12:e.close("exchange");case 13:case"end":return n.stop()}}),n)})))()},rechargeDiscount:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var n,r,i,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$fetch.post("rechargeDiscount",{});case 2:for(n=e.sent,r=n.data,n.msg,n.err,n.code,i=[],a=0;a<r.length;a++)c=r[a],i.push("抵扣卷 : ".concat(c.discount,"%"));t.disList=i,t.disAllList=r;case 12:case"end":return e.stop()}}),e)})))()},choseDis:function(t){if(t.confirm){if(0==this.disList.length)return this.$until.toast("暂无可用折扣券");this.close("list")}else this.close("list")},changeState:function(t){var e=t.detail.value;this.isChose=e},handleExchange:function(){if(1==this.isChose&&-1==this.current&&0!=this.disAllList.length)return this.$until.toast("请选择折扣券");this.open("exchange")}}};e.default=s},d6f2:function(t,e,n){"use strict";n.r(e);var r=n("3cf1"),i=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e["default"]=i.a},db91:function(t,e,n){"use strict";n.r(e);var r=n("98fc"),i=n("d6f2");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("87ec");var c,s=n("f0c5"),o=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"2658c99b",null,!1,r["a"],c);e["default"]=o.exports},dcca:function(t,e,n){"use strict";n.r(e);var r=n("fc50"),i=n("3070");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("6d9d");var c,s=n("f0c5"),o=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"c276c23c",null,!1,r["a"],c);e["default"]=o.exports},fc50:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r}));var r={cThumb:n("6e29").default,cLabel:n("27e6").default,cButton:n("1339").default,cPopup:n("363b").default,cEmpty:n("db91").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"detail p30"},[n("v-uni-view",{staticClass:"c-row c-row-middle-center"},[t.info.image?[n("c-thumb",{attrs:{src:t._f("jointUrl")(t.info.image),size:"320"}})]:[n("c-thumb",{attrs:{src:"/static/mine/product.png",size:"320"}})]],2),n("v-uni-view",{staticClass:"title mt30"},[t._v(t._s(t.info.ticketname))]),n("v-uni-view",{staticClass:"mt30 mb30"},[n("v-uni-text",[t._v("价格")])],1),n("v-uni-view",{staticClass:"flex-cover c-row c-row-middle footer"},[n("v-uni-view",{staticClass:"c-row c-row-middle mr20"},[1==t.info.ticket_type?[n("c-thumb",{attrs:{src:"/static/mine/other.png",size:"30"}})]:[n("c-thumb",{attrs:{src:"/static/mine/balance.png",size:"30"}})],n("v-uni-text",{staticClass:"ml10"},[t._v(t._s(t.info.price))])],2),n("v-uni-view",{staticClass:"c-row c-row-middle"},[n("c-thumb",{attrs:{src:"/static/competition/vip.png",size:"30"}}),n("v-uni-text",{staticClass:"vip-num ml10"},[t._v(t._s(t.info.vip_price))])],1)],1),1==t.Demotype?n("v-uni-view",{staticClass:"content mt30"},[n("v-uni-rich-text",{attrs:{nodes:t.content}})],1):t._e(),n("v-uni-view",{staticClass:"mt30"},[n("c-label",{attrs:{label:"是否使用优惠劵"}},[n("v-uni-radio-group",{staticClass:"c-row c-row-middle c-flew-end flex-cover",attrs:{name:"type"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeState.apply(void 0,arguments)}}},t._l(t.choseList,(function(e,r){return n("v-uni-label",{key:r,staticClass:"c-row c-row-middle ml30"},[n("v-uni-radio",{staticClass:"radio",attrs:{value:r.toString(),checked:r==t.isChose,color:t.$config.baseColor}}),n("v-uni-text",[t._v(t._s(e))])],1)})),1)],1)],1),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1==t.isChose,expression:"isChose == 1"}],staticClass:"mt30"},[n("c-label",{attrs:{label:"抵扣价格"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.open("list")}}},[n("v-uni-view",{staticClass:"flex-cover c-row c-flew-end"},[t._v(t._s(t.disList[t.current]||"暂无选择"))])],1)],1),n("v-uni-view",{staticClass:"btn"},[n("c-button",{attrs:{type:"default-gradient",round:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleExchange.apply(void 0,arguments)}}},[t._v("马上兑换")])],1),n("c-popup",{ref:"exchange",attrs:{title:"您是否购买本场门票"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.buyProduct.apply(void 0,arguments)}}}),n("c-popup",{ref:"list",attrs:{title:"折扣列表",type:"bottom",width:"100vw"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.choseDis.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"mb30"},t._l(t.disList,(function(e,r){return n("v-uni-view",{key:r,staticClass:"dis-item c-row c-row-middle-center mt20",class:{active:r==t.current},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.current=r}}},[t._v(t._s(e))])})),1),0==t.disList.length?n("v-uni-view",{},[n("c-empty")],1):t._e()],1)],1)},a=[]}}]);
{extend name="layout/main" /}

{block name="header"}

{/block}
{block name="left"}{/block}

{block name="content"}
<div class="row">
    <div class="col-lg-12 col-sm-6" style="padding-right: 0">
        <section class="panel">
            <header class="panel-heading">
                <h4>新增会员趋势图</h4>
            </header>
            <div class="panel-body">
                <div id="magic" style="width: 100%;height: 200px">

                </div>
            </div>
        </section>
    </div>
</div>
<div class="row">
    <div class="col-lg-3 col-md-3" style="padding-left: 0">
        <section class="panel ">
            <header class="panel-heading">
                <h4>会员数量</h4>
            </header>
            <div class="panel-body">
                <h3>{$user['total']}</h3>
            </div>
        </section>
    </div>
    <div class="col-lg-3 col-md-3">
        <section class="panel">
            <header class="panel-heading">
                <h4>今日会员注册数量</h4>
            </header>
            <div class="panel-body">
                <h3>{$user['today']}</h3>
            </div>
        </section>
    </div>
    <div class="col-lg-3 col-md-3">
        <section class="panel">
            <header class="panel-heading">
                <h4>星级会员总数</h4>
            </header>
            <div class="panel-body">
                <h3>{$user['level']}</h3>
            </div>
        </section>
    </div>
    <div class="col-lg-3 col-md-3">
        <section class="panel">
            <header class="panel-heading">
                <h4>会员任务总数量</h4>
            </header>
            <div class="panel-body">
                <h3>{$task['all']}</h3>
            </div>
        </section>
    </div>
    <div class="col-lg-3 col-md-3">
        <section class="panel">
            <header class="panel-heading">
                <h4>任务未完成数量</h4>
            </header>
            <div class="panel-body">
                <h3>{$task['not_finished']}</h3>
            </div>
        </section>
    </div>
    <div class="col-lg-3 col-md-3">
        <section class="panel">
            <header class="panel-heading">
                <h4>任务待审核数量</h4>
            </header>
            <div class="panel-body">
                <h3>{$task['not_check']}</h3>
            </div>
        </section>
    </div>
    <div class="col-lg-3 col-md-3">
        <section class="panel">
            <header class="panel-heading">
                <h4>任务审核通过数量</h4>
            </header>
            <div class="panel-body">
                <h3>{$task['pass']}</h3>
            </div>
        </section>
    </div>
    <div class="col-lg-3 col-md-3">
        <section class="panel">
            <header class="panel-heading">
                <h4>任务审核不通过数量</h4>
            </header>
            <div class="panel-body">
                <h3>{$task['not_pass']}</h3>
            </div>
        </section>
    </div>
    <div class="col-lg-3 col-md-3">
        <section class="panel">
            <header class="panel-heading">
                <h4>充值统计</h4>
            </header>
            <div class="panel-body">
                <h3>{$money['recharge']}</h3>
            </div>
        </section>
    </div>
    <div class="col-lg-3 col-md-3">
        <section class="panel">
            <header class="panel-heading">
                <h4>提现统计</h4>
            </header>
            <div class="panel-body">
                <h3>{$money['withdrawal']}</h3>
            </div>
        </section>
    </div>
    <div class="col-lg-3 col-md-3">
        <section class="panel">
            <header class="panel-heading">
                <h4>今日充值金额</h4>
            </header>
            <div class="panel-body">
                <h3>{$money['today_recharge']}</h3>
            </div>
        </section>
    </div>
    <div class="col-lg-3 col-md-3">
        <section class="panel">
            <header class="panel-heading">
                <h4>今日提现金额</h4>
            </header>
            <div class="panel-body">
                <h3>{$money['today_withdrawal']}</h3>
            </div>
        </section>
    </div>
</div>
<p id="level" data="{$level}"></p>
{/block}
{block name="footer"}
<script src="/admin/js/echarts.min.js"></script>

<script>
    var magicChart = echarts.init(document.getElementById('magic'));
    var magic = {
        title: {
            text: '新增会员趋势图',
            x: 'center'
        },
        tooltip: {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c} ({d}%)"
        },
        legend: {
            orient: 'vertical',
            left: 'left',
            data: ['运行中', '已过期']
        },
        series: [
            {
                type: 'pie',
                radius: '55%',
                center: ['50%', '60%'],
                data: [
                    {value: "{$magic['running'] ? $magic['running'] : 0}", name: '运行中'},
                    {value: "{$magic['stop'] ? $magic['stop'] : 0}", name: '已过期'}
                ],
                itemStyle: {
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    };
    magicChart.setOption(magic);
</script>
<script>
    var orderChart = echarts.init(document.getElementById('magic'));
    orders = {
        color: ['#3398DB'],
        tooltip : {
            trigger: 'axis',
            axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
            }
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis : [
            {
                type : 'category',
                data : ['昨天','今天','明天'],
                axisTick: {
                    alignWithLabel: true
                }
            }
        ],
        yAxis : [
            {
                type : 'value'
            }
        ],
        series : [
            {
                name:'增长量',
                type:'bar',
                barWidth: '60%',
                data:[{$user['yesterday']},{$user['today']},0]
            }
        ]
    };
    orderChart.setOption(orders);
</script>
{/block}

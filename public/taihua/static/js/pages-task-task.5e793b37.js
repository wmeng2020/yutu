(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-task-task"],{1108:function(t,e,r){var n=r("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 项目的基本配置 */\r\n/* 基础 */\r\n/* 行为相关颜色 */\r\n/* 行为悬停颜色 */\r\n/* 行为背景颜色 */\r\n/* 渐变色 */\r\n/* 按钮长度 */\r\n/* 距离  */\r\n/* 字体 */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.task .classify[data-v-55e5abe0]{background-color:#fff}.task .total-case[data-v-55e5abe0]{width:%?690?%;height:%?118?%;background:-webkit-gradient(linear,left bottom,left top,from(#ffa645),to(#fdc484));background:-webkit-linear-gradient(bottom,#ffa645,#fdc484);background:linear-gradient(0deg,#ffa645,#fdc484);-webkit-border-radius:%?10?%;border-radius:%?10?%;margin:%?20?% auto;color:#fff;font-weight:700}.task .total-case .icon[data-v-55e5abe0]{background-color:#fff;color:#ffa645;-webkit-border-radius:50%;border-radius:50%;width:%?45?%;height:%?45?%;text-align:center;line-height:%?45?%;margin-left:%?50?%}.task .item[data-v-55e5abe0]{width:%?690?%;margin:0 auto %?20?%;background-color:#fff;-webkit-border-radius:%?10?%;border-radius:%?10?%;font-size:%?32?%;font-weight:700}.task .item .text[data-v-55e5abe0]{font-size:%?26?%;font-weight:400}.task .classify .classify-item[data-v-55e5abe0]{width:48%;height:%?80?%;border:1px solid #333;-webkit-border-radius:%?45?%;border-radius:%?45?%}.task .classify .classify-item1[data-v-55e5abe0]{width:48%;height:%?80?%;background:#333;-webkit-border-radius:%?45?%;border-radius:%?45?%;color:#fff}',""]),t.exports=e},"16e7":function(t,e,r){"use strict";r.r(e);var n=r("ff8c"),a=r.n(n);for(var i in n)"default"!==i&&function(t){r.d(e,t,(function(){return n[t]}))}(i);e["default"]=a.a},1921:function(t,e,r){"use strict";var n=r("2615"),a=r.n(n);a.a},2615:function(t,e,r){var n=r("5e54");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=r("4f06").default;a("96f0f26a",n,!0,{sourceMap:!1,shadowMode:!1})},"2cae":function(t,e,r){"use strict";var n=r("4ea4");r("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(r("bd15")),i=new a.default,o={name:"e-tabbar",data:function(){return{}},props:{tabbar:{type:[Object,Array],default:""},current:{type:[String,Number],default:0},color:{type:String,default:"#000"},lineColor:{type:String,default:i.baseColor},activeColor:{type:String,default:i.baseColor},bg:{type:String,default:"white"}},methods:{change:function(t){this.$emit("change",t)}}};e.default=o},"37b0":function(t,e,r){"use strict";r.r(e);var n=r("b178"),a=r.n(n);for(var i in n)"default"!==i&&function(t){r.d(e,t,(function(){return n[t]}))}(i);e["default"]=a.a},4401:function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return n}));var n={eHeader:r("66d3").default,eTabbar:r("9cdb").default,cThumb:r("5e39").default,cButton:r("8f4f").default,cEmpty:r("b414").default},a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-uni-view",{staticClass:"task"},[r("e-header",[r("v-uni-text",[t._v("任务中心")])],1),r("e-tabbar",{attrs:{bg:"linear-gradient(to left,#fc40fc, #a61afe)",activeColor:"white",current:t.current,color:"#CCCCCC",tabbar:t.tabbar},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}}),0==t.current?[r("v-uni-view",{staticClass:"total-case c-row c-row-middle-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.collocation.apply(void 0,arguments)}}},[t.downTime?[r("v-uni-view",[t._v(t._s(t.downTime))])]:[r("v-uni-text",[t._v("托管助手")]),r("v-uni-text",{staticClass:"icon"},[t._v("￥")]),r("v-uni-text",{staticClass:"ml20"},[t._v(t._s(t.deposit_cost))])]],2),r("v-uni-view",{staticClass:"list mt30"},t._l(t.list,(function(e,n){return r("v-uni-view",{key:n,staticClass:"item p30 c-row"},[r("v-uni-view",{},[r("c-thumb",{attrs:{src:"/static/home/douyin.png",size:"120",equal:!0}})],1),r("v-uni-view",{staticClass:"flex-cover ml30"},[r("v-uni-view",{staticClass:"c-row c-row-middle c-row-between"}),r("v-uni-view",{staticClass:"c-row c-row-between c-row-middle"},[r("v-uni-view",{staticClass:"c-row c-column"},[r("v-uni-text",{staticClass:"text mb10"},[t._v("要求："+t._s(e.need_name))]),r("v-uni-text",{staticClass:"text mt10"},[t._v("剩余数量："+t._s(e.task_num))])],1),r("v-uni-view",{staticClass:"c-row c-column c-row-middle-center"},[r("v-uni-text",{staticClass:"base-color sub-size mb20"},[t._v("单价：￥"+t._s(e.task_price))]),r("v-uni-view",{staticClass:"c-row c-row-middle"},[r("c-button",{attrs:{type:"default-gradient",backgroundColor:"linear-gradient(to left,#fc40fc, #a61afe)",round:!0,height:"60"},on:{click:function(r){arguments[0]=r=t.$handleEvent(r),t.getTask(e)}}},[t._v("领取")])],1)],1)],1)],1)],1)})),1)]:[r("e-tabbar",{attrs:{bg:"white",activeColor:"#A71AFE",current:t.taskCurrent,color:"#CCCCCC",tabbar:t.taskTab,lineColor:"#A71AFE"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.tab.apply(void 0,arguments)}}}),r("v-uni-view",{staticClass:"p30"},t._l(t.list,(function(e,n){return r("v-uni-view",{key:n,staticClass:"card item c-row mb20"},[r("v-uni-view",{staticClass:"c-row c-row-middle-center c-column"},[r("c-thumb",{attrs:{src:"/static/home/douyin.png",size:"120",equal:!0}})],1),r("v-uni-view",{staticClass:"flex-cover ml20 c-row"},[r("v-uni-view",{staticClass:"c-row c-column flex-cover"},[r("v-uni-text",{staticClass:"text mt10"},[t._v("要求："+t._s(e.need_name))]),r("v-uni-text",{staticClass:"text mt10"},[t._v("单价："+t._s(e.realprice||e.task_price))]),0!=e.status?r("v-uni-text",{staticClass:"mt10"},[t._v("审核:"+t._s(e.examinetime||e.createtime||e.create_time))]):r("v-uni-text",{staticClass:"mt10"})],1),r("v-uni-view",{staticClass:"c-row c-row-middle-center c-column"},[0==t.taskCurrent?[r("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upload(n)}}},[e.img?r("v-uni-view",{},[r("c-thumb",{attrs:{src:e.img,size:"88",equal:!0}})],1):r("v-uni-view",{},[r("c-thumb",{attrs:{src:"/static/record/upload.png",size:"88"}})],1)],1),r("v-uni-view",{staticClass:"mt20"},[r("c-button",{attrs:{type:"default-gradient",round:!0,height:"64"},on:{click:function(r){arguments[0]=r=t.$handleEvent(r),t.sendTask(e)}}},[t._v("提交")])],1)]:[0==t.taskCurrent?r("c-thumb",{attrs:{src:"/static/record/state_"+t.current+".png",size:"120"}}):t._e()]],2)],1)],1)})),1),r("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0==t.list.length,expression:"list.length == 0"}]},[r("c-empty",{attrs:{src:"../../static/record/empty.png",text:"无数据记录",size:"688"}})],1)]],2)},i=[]},4492:function(t,e,r){"use strict";r.r(e);var n=r("4401"),a=r("16e7");for(var i in a)"default"!==i&&function(t){r.d(e,t,(function(){return a[t]}))}(i);r("d8fd");var o,c=r("f0c5"),s=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"55e5abe0",null,!1,n["a"],o);e["default"]=s.exports},"462d":function(t,e,r){"use strict";r.r(e);var n=r("2cae"),a=r.n(n);for(var i in n)"default"!==i&&function(t){r.d(e,t,(function(){return n[t]}))}(i);e["default"]=a.a},5808:function(t,e,r){"use strict";var n=r("b3d2"),a=r.n(n);a.a},"5e54":function(t,e,r){var n=r("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 项目的基本配置 */\r\n/* 基础 */\r\n/* 行为相关颜色 */\r\n/* 行为悬停颜色 */\r\n/* 行为背景颜色 */\r\n/* 渐变色 */\r\n/* 按钮长度 */\r\n/* 距离  */\r\n/* 字体 */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.e-tabbar .tabbar[data-v-5bd8c378]{min-height:%?80?%;font-size:%?28?%}.e-tabbar .tabbar .tabbar-item[data-v-5bd8c378]{position:relative}.e-tabbar .tabbar .text[data-v-5bd8c378]{font-size:%?28?%;position:absolute}.e-tabbar .tabbar .line[data-v-5bd8c378]{display:block;width:%?100?%;height:2px;margin-top:%?60?%;position:absolute;bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}',""]),t.exports=e},"6f3e":function(t,e,r){"use strict";var n;r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-uni-view",{staticClass:"btn"},[r("v-uni-button",{staticClass:"c-row c-row-middle-center",class:{pain:t.pain,circle:t.circle,round:t.round,disabled:t.disabled},style:{background:t.backgroundColor,color:t.color,border:t.borderColor?"1px solid "+t.borderColor:"",fontSize:t.fontSize+"rpx",width:t.width?t.width+"rpx":"100%",height:t.height||t.circle?(t.circle?t.width:t.height)+"rpx":"auto",lineHeight:t.height||t.circle?(t.circle?t.width:t.height)+"rpx":"auto"},attrs:{"hover-class":t.type+"_hover",type:t.type,disabled:t.disabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.click.apply(void 0,arguments)}}},[t._t("default")],2)],1)},i=[]},"8f4f":function(t,e,r){"use strict";r.r(e);var n=r("6f3e"),a=r("37b0");for(var i in a)"default"!==i&&function(t){r.d(e,t,(function(){return a[t]}))}(i);r("5808");var o,c=r("f0c5"),s=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"d09c0f56",null,!1,n["a"],o);e["default"]=s.exports},"9cdb":function(t,e,r){"use strict";r.r(e);var n=r("b3d8"),a=r("462d");for(var i in a)"default"!==i&&function(t){r.d(e,t,(function(){return a[t]}))}(i);r("1921");var o,c=r("f0c5"),s=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"5bd8c378",null,!1,n["a"],o);e["default"]=s.exports},b178:function(t,e,r){"use strict";r("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"c-button",props:{type:{type:String,default:""},pain:{type:Boolean,default:!1},round:{type:Boolean,default:!1},circle:{type:Boolean,default:!1},backgroundColor:{type:String,default:""},color:{type:String,default:""},borderColor:{type:String,default:""},fontSize:{type:[String,Number],default:28},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1}},methods:{click:function(){this.$emit("click")}}};e.default=n},b3d2:function(t,e,r){var n=r("d757");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=r("4f06").default;a("12469ac9",n,!0,{sourceMap:!1,shadowMode:!1})},b3d8:function(t,e,r){"use strict";var n;r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-uni-view",{staticClass:"e-tabbar",style:{background:t.bg}},[r("v-uni-view",{staticClass:"tabbar c-row"},t._l(t.tabbar,(function(e,n){return r("v-uni-view",{key:n,staticClass:"tabbar-item c-row flex-cover c-row-middle-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.change(n)}}},[r("v-uni-view",{staticClass:"c-row c-row-middle-center flex-cover",class:{active:t.current==n}},[r("v-uni-text",{staticClass:"text",style:{color:n==t.current?t.activeColor:t.color}},[t._v(t._s(e))])],1),r("v-uni-text",{staticClass:"line",style:{background:n==t.current?t.lineColor:"transparent"}})],1)})),1)],1)},i=[]},bbf6:function(t,e,r){var n=r("1108");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=r("4f06").default;a("5b4ed69c",n,!0,{sourceMap:!1,shadowMode:!1})},d757:function(t,e,r){var n=r("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 项目的基本配置 */\r\n/* 基础 */\r\n/* 行为相关颜色 */\r\n/* 行为悬停颜色 */\r\n/* 行为背景颜色 */\r\n/* 渐变色 */\r\n/* 按钮长度 */\r\n/* 距离  */\r\n/* 字体 */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.btn uni-button[data-v-d09c0f56]{display:inline-block;white-space:nowrap;background:#fff;border:1px solid #dcdfe6;color:#606266;-webkit-appearance:none;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;outline:none;margin:0;-webkit-transition:.1s;transition:.1s;font-weight:500;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;font-size:%?28?%;-webkit-border-radius:%?8?%;border-radius:%?8?%;width:100%;box-sizing:border-box}.btn uni-button._hover[data-v-d09c0f56]{border-color:#c6e2ff;background-color:#c6e2ff;color:#fff}.btn uni-button.pain[data-v-d09c0f56]{background:#c6e2ff}.btn uni-button.round[data-v-d09c0f56]{-webkit-border-radius:%?100?%;border-radius:%?100?%}.btn uni-button.circle[data-v-d09c0f56]{-webkit-border-radius:50%;border-radius:50%}.btn uni-button.disabled[data-v-d09c0f56]{background:#ccc!important;border:none!important;color:#fff!important}.btn uni-button[type="primary"][data-v-d09c0f56]{background:#007aff;border:1px solid #007aff;color:#fff}.btn uni-button[type="primary"].primary_hover[data-v-d09c0f56]{background:#409eff;border-color:#409eff}.btn uni-button[type="primary"].pain[data-v-d09c0f56]{background:#fff;color:#007aff}.btn uni-button[type="primary"].pain.primary_hover[data-v-d09c0f56]{background:#409eff;border-color:#409eff;color:#fff}.btn uni-button[type="success"][data-v-d09c0f56]{background:#4cd964;border:1px solid color-success;color:#fff}.btn uni-button[type="success"].success_hover[data-v-d09c0f56]{background:#85ce61;border-color:#85ce61}.btn uni-button[type="success"].pain[data-v-d09c0f56]{background:#fff;color:#4cd964}.btn uni-button[type="success"].pain.success_hover[data-v-d09c0f56]{background:#85ce61;border-color:#85ce61;color:#fff}.btn uni-button[type="info"][data-v-d09c0f56]{background:#909399;border:1px solid #909399;color:#fff}.btn uni-button[type="info"].info_hover[data-v-d09c0f56]{background:#a6a9ad;border-color:#a6a9ad}.btn uni-button[type="info"].pain[data-v-d09c0f56]{background:#fff;color:#909399}.btn uni-button[type="info"].pain.info_hover[data-v-d09c0f56]{background:#a6a9ad;border-color:#a6a9ad;color:#fff}.btn uni-button[type="warning"][data-v-d09c0f56]{background:#f0ad4e;border:1px solid #f0ad4e;color:#fff}.btn uni-button[type="warning"].warning_hover[data-v-d09c0f56]{background:#ebb563;border-color:#ebb563}.btn uni-button[type="warning"].pain[data-v-d09c0f56]{background:#fff;color:#f0ad4e}.btn uni-button[type="warning"].pain.warning_hover[data-v-d09c0f56]{background:#ebb563;border-color:#ebb563;color:#fff}.btn uni-button[type="danger"][data-v-d09c0f56]{background:#dd524d;border:1px solid #dd524d;color:#fff}.btn uni-button[type="danger"].danger_hover[data-v-d09c0f56]{background:#f78989;border-color:#f78989}.btn uni-button[type="danger"].pain[data-v-d09c0f56]{background:#fff;color:#dd524d}.btn uni-button[type="danger"].pain.danger_hover[data-v-d09c0f56]{background:#f78989;border-color:#f78989;color:#fff}.btn uni-button[type="default"][data-v-d09c0f56]{background:#a61afe;border:1px solid #a61afe;color:#fff}.btn uni-button[type="default"].default_hover[data-v-d09c0f56]{border-color:#f5c01e;background-color:#f5c01e;color:#000}.btn uni-button[type="default"].pain[data-v-d09c0f56]{background:#fff;color:#a61afe}.btn uni-button[type="default"].pain.default_hover[data-v-d09c0f56]{background:#f5c01e;border-color:#f5c01e;color:#000}.btn uni-button[type="default-gradient"][data-v-d09c0f56]{background:-webkit-gradient(linear,left top,right top,from(#fc40fc),to(#a61afe));background:-webkit-linear-gradient(left,#fc40fc,#a61afe);background:linear-gradient(90deg,#fc40fc,#a61afe);border:none;color:#fff}.btn uni-button[type="default-gradient"].default-gradient_hover[data-v-d09c0f56]{border-color:#f5c01e;background-color:#f5c01e;color:#000}.btn uni-button[type="default-gradient"].pain[data-v-d09c0f56]{background:#fff;color:#a61afe}.btn uni-button[type="default-gradient"].pain.default-gradient_hover[data-v-d09c0f56]{background:#f5c01e;border-color:#f5c01e;color:#000}',""]),t.exports=e},d8fd:function(t,e,r){"use strict";var n=r("bbf6"),a=r.n(n);a.a},ff8c:function(t,e,r){"use strict";(function(t){var n=r("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r("96cf");var a=n(r("1da1")),i={name:"task",data:function(){return{page:1,list:[],classify:"",current:0,icon:{},is_click:0,tabbar:["抖音","已结任务"],count:0,taskCurrent:0,taskTab:["待提交","审核中","已完成","已失败"],tabbarList:[{name:"待提交",key:"submitted",status:"0"},{name:"审核中",key:"in_review",status:"1"},{name:"已完成",key:"completed",status:"2"},{name:"失败",key:"fail",status:"-1"}],isUpload:!1,timer:null,downTime:"",deposit_cost:""}},onLoad:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.isUpload||(t.page=1,t.list=[],t.taskList());case 1:case"end":return e.stop()}}),e)})))()},methods:{change:function(t){this.current=t,this.page=1,this.list=[],0==t?this.taskList():this.taskRecord()},classifyList:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var r,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$fetch.post("homeTask");case 2:for(r=e.sent,r.data,r.msg,r.code,n=r.info,t.classify=n,t.tabbar=[],a=0;a<t.classify.length;a++)i=t.classify[a],t.tabbar.push(i.type_name);t.taskList();case 11:case"end":return e.stop()}}),e)})))()},taskList:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var r,n,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$fetch.post("taskList",{page:t.page});case 2:if(r=e.sent,r.data,r.msg,r.err,n=r.info,a=n.data,t.icon=n.icon,a.length){for(i=0;i<a.length;i++)o=a[i],t.list.push(o);t.page++}case 10:case"end":return e.stop()}}),e)})))()},getTask:function(t){var e=this;return(0,a.default)(regeneratorRuntime.mark((function r(){var n,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e,r.prev=1,r.next=4,n.$fetch.post("getTask",{id:t.id});case 4:a=r.sent,a.data,i=a.msg,a.code,n.$until.toast(i),n.reset(),r.next=14;break;case 12:r.prev=12,r.t0=r["catch"](1);case 14:case"end":return r.stop()}}),r,null,[[1,12]])})))()},openApp:function(t){var e=this;return(0,a.default)(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=t.task_url,t.isClick=!0,0!=t.set_view){r.next=10;break}return r.next=5,e.$fetch.post("viewTask",{id:t.id});case 5:a=r.sent,a.data,a.msg,a.err,a.code;case 10:t.set_view=1,location.href=n;case 12:case"end":return r.stop()}}),r)})))()},reset:function(){this.page=1,this.list=[],this.taskList()},tab:function(t){this.taskCurrent=t,this.resetTask()},resetTask:function(){this.status=this.tabbarList[this.taskCurrent].status,this.page=1,this.list=[],this.taskRecord()},taskRecord:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$fetch.post("taskRecord",{status:t.status,page:t.page});case 2:r=e.sent,r.data,r.msg,r.err,n=r.info,a=n.data,a.length&&(t.page++,t.list.push.apply(t.list,a));case 9:case"end":return e.stop()}}),e)})))()},sendTask:function(t){var e=this;return(0,a.default)(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,t.imgId){r.next=3;break}return r.abrupt("return",e.$until.toast("请上传凭证"));case 3:return r.next=5,e.$fetch.post("sendTask",{id:t.id,image_id:t.imgId});case 5:n=r.sent,n.data,a=n.msg,n.err,e.$until.toast(a),e.resetTask(),r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](0),e.resetTask();case 16:case"end":return r.stop()}}),r,null,[[0,13]])})))()},upload:function(t){var e=this;return(0,a.default)(regeneratorRuntime.mark((function r(){var n,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.isUpload=!0,r.next=3,e.$until.chooseImage();case 3:return n=r.sent,r.next=6,e.$fetch.upload("upload",n);case 6:a=r.sent,i=a.data,e.isUpload=!1,e.$set(e.list[t],"img",n),e.$set(e.list[t],"imgId",i);case 11:case"end":return r.stop()}}),r)})))()},collocation:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t,!t.downTime){e.next=3;break}return e.abrupt("return",!1);case 3:uni.showModal({title:"托管提示?",content:"确定是否开启托管",success:function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.confirm){t.next=10;break}return t.next=3,r.$fetch.post("collocation",{});case 3:n=t.sent,n.data,n.msg,n.err,n.code,a=n.info,r.downloadTime(a);case 10:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()});case 4:case"end":return e.stop()}}),e)})))()},getCollocation:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function r(){var n,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$fetch.get("collocation",{});case 3:n=r.sent,n.data,n.msg,n.err,n.code,a=n.info,i=n.deposit_cost,e.downloadTime(a),e.deposit_cost=i,r.next=17;break;case 14:r.prev=14,r.t0=r["catch"](0),t("log",r.t0," at pages/task/task.vue:368");case 17:case"end":return r.stop()}}),r,null,[[0,14]])})))()},downloadTime:function(t){var e=this;return(0,a.default)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(clearInterval(e.timer),t){r.next=3;break}return r.abrupt("return",!1);case 3:e.timer=setInterval((function(){var r=1e3*t-(new Date).getTime();r/1e3>=1?e.downTime=e.$until.formatDistanceTime(r,"hh:mm:ss"):(e.downTime="",clearInterval(e.timer))}),1e3);case 4:case"end":return r.stop()}}),r)})))()},userInfo:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$fetch.post("userInfo",{});case 2:r=e.sent,n=r.info,t.$store.state.userInfo=n.userInfo,n.userInfo.star_level>0&&t.getCollocation();case 6:case"end":return e.stop()}}),e)})))()}},onReachBottom:function(){0==this.current?this.taskList():this.taskRecord()},onShow:function(){this.userInfo()}};e.default=i}).call(this,r("0de9")["log"])}}]);